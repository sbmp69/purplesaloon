{"ast":null,"code":"var _jsxFileName = \"E:\\\\purplesaloon\\\\client\\\\src\\\\pages\\\\TokenSuccess.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect } from 'react';\nimport { Container, Typography, Button, Paper, Box, CircularProgress } from '@mui/material';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { TokenContext } from '../context/TokenContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TokenSuccess = () => {\n  _s();\n  var _token$gender;\n  const navigate = useNavigate();\n  const {\n    state\n  } = useLocation();\n  const {\n    getRecentToken,\n    tokens\n  } = useContext(TokenContext);\n\n  // Get the most recent token details\n  const token = state !== null && state !== void 0 && state.tokenNumber ? {\n    tokenNumber: state.tokenNumber,\n    gender: state.gender,\n    ...state\n  } : getRecentToken(state === null || state === void 0 ? void 0 : state.gender);\n\n  // Redirect to home if no token data is available\n  useEffect(() => {\n    if (!token && tokens.length === 0) {\n      const timer = setTimeout(() => {\n        navigate('/');\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [token, tokens, navigate]);\n  if (!token) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      sx: {\n        mt: 6,\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        sx: {\n          mt: 2\n        },\n        children: \"Loading token details...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        sx: {\n          mt: 1\n        },\n        children: \"Redirecting to home page...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    sx: {\n      mt: 6\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 4,\n        borderRadius: 3,\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        color: \"primary\",\n        gutterBottom: true,\n        children: \"Your Token Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          my: 4,\n          p: 3,\n          borderRadius: 2,\n          bgcolor: 'rgba(51, 18, 107, 0.05)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h1\",\n          color: \"secondary\",\n          sx: {\n            fontWeight: 'bold',\n            mb: 2,\n            background: 'linear-gradient(45deg, #33126B 30%, #FF0A91 90%)',\n            WebkitBackgroundClip: 'text',\n            WebkitTextFillColor: 'transparent'\n          },\n          children: token.tokenId || `${((_token$gender = token.gender) === null || _token$gender === void 0 ? void 0 : _token$gender.charAt(0).toUpperCase()) || 'M'}${token.tokenNumber || '1'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          color: \"text.secondary\",\n          gutterBottom: true,\n          children: [token.gender === 'male' ? '♂ Male' : '♀ Female', token.service ? ` • ${token.service}` : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), token.name && /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          color: \"text.primary\",\n          sx: {\n            mt: 2\n          },\n          children: token.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), token.mobile && /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          sx: {\n            mt: 1\n          },\n          children: [\"Mobile: \", token.mobile]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        sx: {\n          mb: 3\n        },\n        children: \"Please wait for your number to be called.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: () => navigate('/'),\n        sx: {\n          mt: 2,\n          px: 4\n        },\n        children: \"Back to Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(TokenSuccess, \"NbSJB6fUNXsooK9hxzzSeVgeL5o=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = TokenSuccess;\nexport default TokenSuccess;\nvar _c;\n$RefreshReg$(_c, \"TokenSuccess\");","map":{"version":3,"names":["React","useContext","useEffect","Container","Typography","Button","Paper","Box","CircularProgress","useLocation","useNavigate","TokenContext","jsxDEV","_jsxDEV","TokenSuccess","_s","_token$gender","navigate","state","getRecentToken","tokens","token","tokenNumber","gender","length","timer","setTimeout","clearTimeout","maxWidth","sx","mt","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","color","elevation","p","borderRadius","gutterBottom","my","bgcolor","fontWeight","mb","background","WebkitBackgroundClip","WebkitTextFillColor","tokenId","charAt","toUpperCase","service","name","mobile","onClick","px","_c","$RefreshReg$"],"sources":["E:/purplesaloon/client/src/pages/TokenSuccess.js"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport { Container, Typography, Button, Paper, Box, CircularProgress } from '@mui/material';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { TokenContext } from '../context/TokenContext';\n\nconst TokenSuccess = () => {\n  const navigate = useNavigate();\n  const { state } = useLocation();\n  const { getRecentToken, tokens } = useContext(TokenContext);\n  \n  // Get the most recent token details\n  const token = state?.tokenNumber \n    ? { tokenNumber: state.tokenNumber, gender: state.gender, ...state }\n    : getRecentToken(state?.gender);\n\n  // Redirect to home if no token data is available\n  useEffect(() => {\n    if (!token && tokens.length === 0) {\n      const timer = setTimeout(() => {\n        navigate('/');\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [token, tokens, navigate]);\n\n  if (!token) {\n    return (\n      <Container maxWidth=\"sm\" sx={{ mt: 6, textAlign: 'center' }}>\n        <CircularProgress />\n        <Typography variant=\"body1\" sx={{ mt: 2 }}>\n          Loading token details...\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n          Redirecting to home page...\n        </Typography>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ mt: 6 }}>\n      <Paper elevation={3} sx={{ p: 4, borderRadius: 3, textAlign: 'center' }}>\n        <Typography variant=\"h5\" color=\"primary\" gutterBottom>\n          Your Token Details\n        </Typography>\n        \n        <Box sx={{ \n          my: 4,\n          p: 3,\n          borderRadius: 2,\n          bgcolor: 'rgba(51, 18, 107, 0.05)'\n        }}>\n          <Typography variant=\"h1\" color=\"secondary\" sx={{ \n            fontWeight: 'bold',\n            mb: 2,\n            background: 'linear-gradient(45deg, #33126B 30%, #FF0A91 90%)',\n            WebkitBackgroundClip: 'text',\n            WebkitTextFillColor: 'transparent'\n          }}>\n            {token.tokenId || `${token.gender?.charAt(0).toUpperCase() || 'M'}${token.tokenNumber || '1'}`}\n          </Typography>\n          \n          <Typography variant=\"subtitle1\" color=\"text.secondary\" gutterBottom>\n            {token.gender === 'male' ? '♂ Male' : '♀ Female'}{token.service ? ` • ${token.service}` : ''}\n          </Typography>\n          \n          {token.name && (\n            <Typography variant=\"body1\" color=\"text.primary\" sx={{ mt: 2 }}>\n              {token.name}\n            </Typography>\n          )}\n          \n          {token.mobile && (\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n              Mobile: {token.mobile}\n            </Typography>\n          )}\n        </Box>\n        \n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n          Please wait for your number to be called.\n        </Typography>\n        \n        <Button \n          variant=\"contained\" \n          color=\"primary\"\n          onClick={() => navigate('/')}\n          sx={{ mt: 2, px: 4 }}\n        >\n          Back to Home\n        </Button>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default TokenSuccess;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}